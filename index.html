<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TonFiles Market</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="header-left">
      <img src="tonfiles.svg" alt="TonFiles" class="logo">
    </div>
    <div class="header-right">
      <div class="balance">
        <span id="balance">1000.00</span>
        <img src="ton1.svg" alt="TON" class="ton-icon">
      </div>
    </div>
  </header>

  <main>
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="controls">
        <div class="controls-row top">
          <input id="search-input" class="input" placeholder="Поиск по названию или описанию…" />
          <button id="apply-btn" class="btn btn-outline">Применить</button>
        </div>

        <div class="controls-row bottom">
          <input id="min-price" class="input small" type="number" min="0" step="0.01" placeholder="Мин. цена" />
          <input id="max-price" class="input small" type="number" min="0" step="0.01" placeholder="Макс. цена" />
          <div class="select-wrap" id="sort-select">
            <button id="sort-btn" class="btn-select">Последние</button>
            <div class="select-options">
              <div data-val="newest">Последние</div>
              <div data-val="price_asc">Цена: по возрастанию</div>
              <div data-val="price_desc">Цена: по убыванию</div>
              <div data-val="best">Отзывы: лучшие</div>
              <div data-val="count">Отзывы: количество</div>
            </div>
          </div>
        </div>
      </div>

      <div id="market-grid" class="grid" aria-live="polite"></div>
      <div id="market-empty" class="empty">Пусто</div>
    </section>

    <!-- ADD -->
    <section id="add" class="page">
      <form id="add-form" class="add-form" novalidate>
        <h2 class="form-title">Публикация объявления</h2>

        <label class="field">
          <span class="label">Название</span>
          <input id="add-name" class="input" type="text" required />
        </label>

        <label class="field">
          <span class="label">Описание</span>
          <textarea id="add-desc" class="input" rows="4" required></textarea>
        </label>

        <label class="field">
          <span class="label">Цена (TON)</span>
          <input id="add-price" class="input" type="number" min="0" step="0.01" required />
          <div id="commission-info" class="muted">Вы получите: 0.00 TON (с учётом комиссии 10%)</div>
        </label>

        <label class="field">
          <span class="label">Загрузка файлов</span>
          <div class="file-row">
            <label class="file-btn btn-outline">
              Превью
              <input id="add-preview" type="file" accept="image/*" class="file-input" required>
            </label>
            <label class="file-btn btn-outline">
              Конечный файл
              <input id="add-file" type="file" class="file-input" required>
            </label>
          </div>
        </label>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Опубликовать</button>
        </div>
      </form>
    </section>

    <!-- PROFILE -->
    <section id="profile" class="page">
      <div class="profile-top">
        <div class="profile-box">
          <div>
            <div class="muted small">Реферальная система — 2% от трат рефералов</div>
          </div>
          <div class="ref-right">
            <div class="ref-amount"><span id="ref-balance">0.00</span> <img src="ton1.svg" class="ton-icon" alt="TON"></div>
            <button class="btn btn-outline" id="withdraw-btn">Вывести</button>
          </div>
        </div>
      </div>

      <div class="profile-tabs">
        <button class="tab active" data-tab="purchases">Мои покупки</button>
        <button class="tab" data-tab="myitems">Мои товары</button>
      </div>

      <div class="profile-search">
        <input id="profile-search" class="input" placeholder="Поиск..." />
      </div>

      <div id="purchases" class="profile-section">
        <div id="purchases-grid" class="grid"></div>
        <div id="purchases-empty" class="empty">Пусто</div>
      </div>

      <div id="myitems" class="profile-section" hidden>
        <div id="myitems-grid" class="grid"></div>
        <div id="myitems-empty" class="empty">Пусто</div>
      </div>
    </section>
  </main>

  <nav class="bottom-tabs">
    <button class="tab-btn active" data-page="home">Главная</button>
    <button class="tab-btn" data-page="add">Добавить</button>
    <button class="tab-btn" data-page="profile">Профиль</button>
  </nav>

  <!-- MODAL -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true">
      <div id="modal-content"></div>
      <div class="modal-actions" id="modal-actions"></div>
      <div style="text-align:center;margin-top:10px;">
        <button class="btn btn-outline" id="modal-close">Закрыть</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <script src="app.js"></script>
</body>
</html>
